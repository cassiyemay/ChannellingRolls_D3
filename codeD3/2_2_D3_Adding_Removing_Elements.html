<!DOCTYPE html>
<html lang = "en" class="tas-com">
<head>
	<meta charset="utf-8">
	<title>D3: Adding Elements in D3</title>
	<link href="./themes/prism.css" rel="stylesheet" />
	<link href="./themes/tas_style.css" rel="stylesheet" />
	<script type="text/javascript" src="./d3/d3.v4.js" charset="utf-8"></script>
	<script src="./lib/prism.js" charset="utf-8"></script>
</head>
<body>

	<h1>Adding Elements in D3</h1>
	<h2>Appending Elements</h2>
	<p>Through D3 we can add elements to a page using the <code>append</code> method.</p>

	<pre class = "line-numbers"><code class="language-css">.pumpkin {
	fill: yellow;
	stroke: orange;
	stroke-width: 2;
}</code></pre>
		 
	<pre class = "line-numbers"><code class="language-markup">&lt;svg width="200" height="200" style='background: aliceblue;'>
	&lt;g id = "circle_group">
		&lt;circle cx="50" cy="50" r="32" fill="yellow" stroke="orange" stroke-width="4"/>
		&lt;circle cx="110" cy="50" r="16" fill="yellow" stroke="orange" stroke-width="3"/>
		&lt;circle cx="142" cy="50" r="8" class = "pumpkin"/>
		&lt;circle cx="160" cy="50" r="4" fill="yellow" stroke="orange" stroke-width="1"/>
	&lt;/g>		
	&lt;g id = "circle_group">
		&lt;rect x="18" y="118" width="64", height = "64" fill="yellow" stroke="orange" stroke-width="4"/>
		&lt;rect id = "goldilocks" x="94" y="134" width="32", height = "32" fill="yellow" stroke="orange" stroke-width="3"/>
		&lt;rect x="134" y="142" width="16", height = "16"  class = "pumpkin" />
		&lt;rect x="156" y="146" width="8", height = "8" fill="yellow" stroke="orange" stroke-width="1"/>
	&lt;/g>
&lt;/svg></code></pre>
	

		 
	<style type="text/css">
		.pumpkin {
		 fill: yellow;
		 stroke: orange;
		 stroke-width: 2;
		 }	
	</style>
	
	<svg width="200" height="200" style='background: aliceblue;'>
		<g id = "circle_group">
			<circle cx="50" cy="50" r="32" fill="yellow" stroke="orange" stroke-width="4"/>
			<circle cx="110" cy="50" r="16" fill="yellow" stroke="orange" stroke-width="3"/>
			<circle cx="142" cy="50" r="8" class = "pumpkin" />
			<circle cx="160" cy="50" r="4" fill="yellow" stroke="orange" stroke-width="1"/>
		</g>
		<g id = "square_group">
			<rect x="18" y="118" width="64", height = "64" fill="yellow" stroke="orange" stroke-width="4"/>
			<rect id = "goldilocks" x="94" y="134" width="32", height = "32" fill="yellow" stroke="orange" stroke-width="3"/>
			<rect x="134" y="142" width="16", height = "16"  class = "pumpkin" />
			<rect x="156" y="146" width="8", height = "8" fill="yellow" stroke="orange" stroke-width="1"/>
		</g>
	</svg>
	
	<p>Try the following commands in the Javascript console to experiment with the <code>append</code> method:</p>
	<ul>
		<li /><pre class = "line-numbers"><code class="language-javascript">d3.select("svg")
	.append("circle")
		.attr("cx", 100)
		.attr("cy", 100)
		.attr("r", 80)
		.style("opacity", 0.4);</code></pre>
		<li /><pre class = "line-numbers"><code class="language-javascript">d3.select("#square_group")
	.append("rect")
		.attr("x", 80)
		.attr("cy", 80)
		.attr("width", 150)
		.attr("height", 150)
		.style("opacity", 0.4);</code></pre>
	</ul>
	
	<p>We can even add a new SVG element and then add shapes to it:</p>
	<ul>
		<li /><pre class = "line-numbers"><code class="language-javascript">d3.select("body")
	.append("svg")
		.attr("width", "300")
		.attr("height", "300")
		.style("background", "aliceblue")
			.append("circle")
				.attr("cx", "150")
				.attr("cy", "150")
				.attr("r", "100")</code></pre>
	</ul>
	
	<p id = "append_par">We can also use append outside of SVG to add any element to the page:</p>
	<ul>
		<li /><pre class = "line-numbers"><code class="language-javascript">d3.select("body")
	.append("p")
		.text("All Your Base Are Belong To Us")
		.style("font-size", "48px")
		.style("color", "red");</code></pre>
	</ul>
	
	<p id = "append_par">If we have a selection containing more than one object, then the <code>append</code> function appends a new element to each element in the selection. Try out:</p>
	<ul>
		<li /><pre class = "line-numbers"><code class="language-javascript">d3.selectAll("p")
	.append("p")
		.text("A little something extra!")
		.style("color", "green");</code></pre>
	</ul>
	
	<h2>Inserting Elements</h2>	
	<p>We can insert a new element at a specific position using the <code>insert</code> method:</p>
	<ul>
		<li /><pre class = "line-numbers"><code class="language-javascript">d3.select("body")
	.insert("h1", "#append_par")
	.text("A New Heading");</code></pre>
	</ul>
	
	<h2>Removing Elements</h2>	
	<p>We can remove an existing elelement by calling <code>remove</code> on a selection containing that element. Try the following:</p>
	<ul>
		<li /><pre class = "line-numbers"><code class="language-javascript">d3.select("circle").remove();</code></pre>
		<li /><pre class = "line-numbers"><code class="language-javascript">d3.select("h2").remove();</code></pre>
		<li /><pre class = "line-numbers"><code class="language-javascript">d3.selectAll("rect").remove();</code></pre>
		<li /><pre class = "line-numbers"><code class="language-javascript">d3.selectAll("p").remove();</code></pre>
	</ul>
	
</body>	 
</html>